<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer Hut - Trade, Accessories & Gifting</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        h1 {
            font-size: 3em;
            color: #333;
        }

        canvas {
            background-color: green;
            display: block;
            margin: 20px auto;
            border: 5px solid #fff;
        }

        #controls {
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
        }

        #shop {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        .shop-item {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            text-align: center;
            background-color: #f9f9f9;
            width: 150px;
        }

        .shop-item img {
            width: 100%;
            height: auto;
        }

        .credits {
            font-size: 12px;
            color: gray;
            margin-top: 20px;
        }

        #teamSelection, #shopScreen, #gameScreen, #teamRoster, #tradeScreen {
            display: none;
        }

        .team {
            border: 1px solid #ccc;
            padding: 20px;
            margin: 10px;
            display: inline-block;
            width: 150px;
        }

        .team img {
            width: 100px;
            height: auto;
        }

        .infinite-symbol {
            font-size: 24px;
            color: red;
            margin-left: 5px;
        }

        #ownerControls {
            display: none;
            margin-top: 20px;
        }

        #banList {
            margin-top: 20px;
            color: red;
        }
    </style>
</head>
<body>

    <h1>Soccer Hut</h1>

    <div id="loginScreen">
        <h2>Login to Play or Sign In</h2>
        <input type="text" id="username" placeholder="Username"><br><br>
        <input type="password" id="password" placeholder="Password"><br><br>
        <button onclick="login()">Login</button>
        <button onclick="signIn()">Sign In</button> <!-- Sign In Button -->
    </div>

    <div id="teamSelection">
        <h2>Select a Team to Play Against</h2>
        <div id="teamChoices">
            <!-- Team selection with flags -->
            <div class="team" onclick="viewRoster('England')">
                <img src="https://upload.wikimedia.org/wikipedia/en/b/be/Flag_of_England.svg" alt="England Flag">
                <p>England</p>
            </div>
            <!-- Add other teams similarly -->
        </div>
        <br>
        <button onclick="goBackToTeamSelection()">Go Back</button>
    </div>

    <div id="teamRoster">
        <h2>Team Roster for <span id="selectedTeam"></span></h2>
        <div id="rosterPlayers">
            <!-- Players will be listed here -->
        </div>
        <br>
        <button onclick="startMatch()">Start Match with this Team</button>
        <button onclick="goBackToTeamSelection()">Choose Another Team</button>
    </div>

    <div id="shopScreen">
        <h2>Shop - Buy Accessories and Players</h2>
        <div id="hutCoinsDisplay">Hut Coins: 0</div>
        <div id="shop">
            <div class="shop-item">
                <img src="https://via.placeholder.com/100" alt="Cool Cleats">
                <h3>Cool Cleats</h3>
                <p>Price: 150 Hut Coins</p>
                <button onclick="buyItem(150, 'Cool Cleats')">Buy</button>
            </div>
            <div class="shop-item">
                <img src="https://via.placeholder.com/100" alt="Player 1">
                <h3>Player 1</h3>
                <p>Price: 100 Hut Coins</p>
                <button onclick="buyItem(100, 'Player 1')">Buy</button>
            </div>
        </div>
        <br>
        <button onclick="goBackToTeamSelection()">Back to Team Selection</button>
    </div>

    <div id="tradeScreen">
        <h2>Trade Players, Teams, and Hut Coins</h2>
        <div>
            <label for="tradeWith">Trade With (Username):</label>
            <input type="text" id="tradeWith" placeholder="Enter Username"><br><br>
            <label for="tradeItem">Item to Trade (Player, Team, or Hut Coins):</label>
            <input type="text" id="tradeItem" placeholder="Enter Item"><br><br>
            <button onclick="initiateTrade()">Propose Trade</button>
        </div>
        <div id="tradeLog"></div>
        <br>
        <button onclick="goBackToTeamSelection()">Back to Team Selection</button>
    </div>

    <div id="ownerControls">
        <h2>Owner Controls</h2>
        <p><strong>You have the ability to gift items and players to others for free!</strong></p>
        <input type="text" id="giftTo" placeholder="Username to Gift">
        <button onclick="giftItem()">Gift Item for Free</button>
        <br><br>
        <div id="giftLog"></div>
    </div>

    <div id="gameScreen">
        <canvas id="soccerField" width="800" height="400"></canvas>
        <div id="controls">
            <button onclick="play()">Play Match</button>
            <button onclick="resetGame()">Reset Game</button>
        </div>
    </div>

    <div class="credits">
        <p>Vihaan Bhatt, Aranya Chatterjee, Viaan Bahl, and Ryan Chindu</p>
    </div>

    <script>
        let hutCoins = 0;
        let playerInventory = [];
        let isOwner = false;
        let bannedPlayers = [];
        const users = [{ username: 'l', password: 'm', isOwner: true }];  // You are the first owner
        const trades = [];

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            let user = users.find(user => user.username === username && user.password === password);

            if (user && bannedPlayers.includes(username)) {
                alert("You are banned from the game.");
                return;
            }

            if (!user) {
                alert("Invalid login");
                return;
            }

            isOwner = user.isOwner;
            alert(isOwner ? "Welcome back, Owner!" : "Welcome back!");
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('teamSelection').style.display = 'block';

            if (isOwner) {
                document.getElementById('ownerControls').style.display = 'block';
            }

            loadUserData();
        }

        // Buy items from the shop
        function buyItem(price, item) {
            if (isOwner || hutCoins >= price) {
                if (!isOwner) hutCoins -= price;
                playerInventory.push(item);
                alert(`You bought ${item} for ${price} Hut Coins`);
                updateHutCoinsDisplay();
                saveUserData();
            } else {
                alert("Not enough Hut Coins!");
            }
        }

        // Gifting system for Owners
        function giftItem() {
            if (isOwner) {
                const giftTo = document.getElementById('giftTo').value;
                alert(`You gifted an item to ${giftTo} for free!`);
                document.getElementById('giftLog').innerHTML += `Gifted to ${giftTo}<br>`;
            } else {
                alert("Only Owners can gift items!");
            }
        }

        // Trade system between players
        function initiateTrade() {
            const tradeWith = document.getElementById('tradeWith').value;
            const tradeItem = document.getElementById('tradeItem').value;
            trades.push({ tradeWith, tradeItem });
            document.getElementById('tradeLog').innerHTML += `Trade proposed to ${tradeWith} for ${trade
